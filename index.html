<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<title>æç«œè²©å£²ã‚³ãƒ”ãƒ¼ç”Ÿæˆ</title>

<style>
:root{
  --bg:#0b0f14;
  --card:#161b22;
  --stroke:rgba(255,255,255,.12);
  --txt:#e6edf3;
  --muted:#9aa4af;
  --male:#74d7ff;
  --female:#ff86c8;
  --accent:#2ea043;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:var(--bg);
  color:var(--txt);
}

header{
  position:sticky;
  top:0;
  z-index:10;
  background:linear-gradient(#0b0f14,#0b0f14cc);
  padding:10px;
  border-bottom:1px solid var(--stroke);
}

.top{
  display:flex;
  gap:8px;
  align-items:center;
}

.searchWrap{
  flex:1;
  position:relative;
}
.searchWrap input{
  width:100%;
  padding:10px 36px 10px 12px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:#0f141b;
  color:var(--txt);
}
.searchWrap button{
  position:absolute;
  right:8px;
  top:50%;
  transform:translateY(-50%);
  border:none;
  background:none;
  color:var(--muted);
  font-size:18px;
  cursor:pointer;
  display:inline-block;
}

select, button.copyBtn{
  border-radius:999px;
  border:1px solid var(--stroke);
  background:#0f141b;
  color:var(--txt);
  padding:10px 12px;
}

.total{
  font-weight:700;
  color:#00e676;
  min-width:80px;
  text-align:right;
}

.copyBtn{
  font-weight:700;
}

.output{
  margin:10px;
  padding:12px;
  background:#0f141b;
  border:1px solid var(--stroke);
  border-radius:14px;
  white-space:pre-wrap;
  font-size:14px;
}

.list{
  padding:10px;
  display:grid;
  gap:10px;
}

.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:16px;
  padding:12px;
}

.cardTop{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.cardTop small{
  color:var(--muted);
}

.controls{
  display:flex;
  gap:10px;
}

.sex{
  flex:1;
  border-radius:14px;
  padding:10px;
  text-align:center;
}

.sex.male{border:1px solid var(--male)}
.sex.female{border:1px solid var(--female)}

.sex .count{
  font-size:20px;
  margin:6px 0;
}

.sex button{
  width:40%;
  border-radius:10px;
  border:none;
  font-size:20px;
}

.sex.male button{background:rgba(116,215,255,.2)}
.sex.female button{background:rgba(255,134,200,.2)}
</style>
</head>

<body>

<header>
  <div class="top">
    <div class="searchWrap">
      <input id="search" placeholder="æ¤œç´¢" />
      <button id="clear">Ã—</button>
    </div>

    <select id="delivery">
      <option>å³ç´å“å¯èƒ½</option>
      <option>æœ¬æ—¥å¤œ</option>
    </select>

    <button class="copyBtn" id="copy">ã‚³ãƒ”ãƒ¼</button>
    <div class="total" id="total">0å††</div>
  </div>
</header>

<div class="output" id="output"></div>

<div class="list" id="list"></div>

<script>
const dinos = [
"TEKã‚®ã‚¬ãƒãƒˆ","TEKã‚±ãƒ„ã‚¡ãƒ«","TEKãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹","ã‚¢ãƒ¼ã‚±ãƒ­ãƒ³","ã‚¢ãƒ¼ã‚¹ãƒ­ãƒ—ãƒ¬ã‚¦ãƒ©",
"ã‚¢ã‚¤ã‚¹ãƒ¯ã‚¤ãƒãƒ¼ãƒ³","ã‚¢ãƒ«ã‚²ãƒ³","ã‚¢ãƒ«ãƒãƒ‰ãƒƒã‚´","ã‚¢ãƒ­ã‚µã‚¦ãƒ«ã‚¹","ã‚¢ãƒ³ã‚­ãƒ­ã‚µã‚¦ãƒ«ã‚¹"
];

const prices = {
  "å—ç²¾åµ":30,
  "èƒš":50,
  "å¹¼ä½“":100,
  "æˆä½“":500
};

const state = new Map();

const list = document.getElementById("list");
const output = document.getElementById("output");
const totalEl = document.getElementById("total");

function yen(n){return n.toLocaleString()+"å††"}

function createCard(name){
  const s = {type:"å—ç²¾åµ", m:0, f:0};
  state.set(name,s);

  const el = document.createElement("div");
  el.className="card";
  el.innerHTML=`
    <div class="cardTop">
      <strong>${name}</strong>
      <div>
        <select>
          ${Object.keys(prices).map(t=>`<option>${t}</option>`).join("")}
        </select>
        <small>å˜ä¾¡${prices["å—ç²¾åµ"]}å††</small>
      </div>
    </div>
    <div class="controls">
      <div class="sex male">
        â™‚
        <div class="count">0</div>
        <button>-</button>
        <button>+</button>
      </div>
      <div class="sex female">
        â™€
        <div class="count">0</div>
        <button>-</button>
        <button>+</button>
      </div>
    </div>
  `;

  const sel = el.querySelector("select");
  const priceLabel = el.querySelector("small");
  const [mBox,fBox]=el.querySelectorAll(".sex");

  sel.onchange=()=>{
    s.type=sel.value;
    priceLabel.textContent=`å˜ä¾¡${prices[s.type]}å††`;
    render();
  };

  [[mBox,"m"],[fBox,"f"]].forEach(([box,key])=>{
    const cnt=box.querySelector(".count");
    const [minus,plus]=box.querySelectorAll("button");
    plus.onclick=()=>{s[key]++;cnt.textContent=s[key];render()};
    minus.onclick=()=>{if(s[key]>0)s[key]--;cnt.textContent=s[key];render()};
  });

  list.appendChild(el);
}

function render(){
  let lines=[];
  let total=0;
  let idx=1;

  for(const [name,s] of state){
    const {m,f,type}=s;
    if(m+f===0) continue;

    let line="";
    let price=0;

    if(["å—ç²¾åµ","èƒš","å¹¼ä½“","æˆä½“"].includes(type)){
      const pair=Math.min(m,f);
      const rm=m-pair, rf=f-pair;

      if(pair>0) line+=`${type}ãƒšã‚¢Ã—${pair}`;
      if(rm>0) line+=`${line?" ":""}â™‚Ã—${rm}`;
      if(rf>0) line+=`${line?" ":""}â™€Ã—${rf}`;

      price=(pair*2+rm+rf)*prices[type];
    }else{
      line=`${type}Ã—${m+f}`;
      price=(m+f)*prices[type];
    }

    lines.push(`${idx}. ${name}=${line}=${yen(price)}`);
    total+=price;
    idx++;
  }

  output.textContent=
`ã“ã®åº¦ã¯ã”æ¤œè¨ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼
ã”å¸Œæœ›å†…å®¹ã¯ä»¥ä¸‹ã¨ãªã‚Šã¾ã™ğŸ‘‡
${lines.join("\n")}
--------------------
è¨ˆ:${yen(total)}
æœ€çŸ­ç´å“ç›®å®‰:${document.getElementById("delivery").value}`;

  totalEl.textContent=yen(total);
}

document.getElementById("copy").onclick=()=>{
  navigator.clipboard.writeText(output.textContent);
};

document.getElementById("search").oninput=e=>{
  const q=e.target.value;
  [...list.children].forEach(c=>{
    c.style.display=c.textContent.includes(q)?"":"none";
  });
};

document.getElementById("clear").onclick=()=>{
  search.value="";
  render();
  [...list.children].forEach(c=>c.style.display="");
};

dinos.forEach(createCard);
render();
</script>

</body>
</html>
