<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æç«œè²©å£²ã‚³ãƒ”ãƒ¼ç”Ÿæˆ</title>
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  margin: 0;
  padding: 10px;
}
.row {
  border-bottom: 1px solid #ddd;
  padding: 8px 0;
}
.name {
  font-weight: bold;
  font-size: 14px;
}
.controls {
  display: flex;
  gap: 6px;
  align-items: center;
  margin-top: 6px;
}
select {
  font-size: 14px;
}
.btn {
  width: 32px;
  height: 32px;
  font-size: 18px;
}
.count {
  min-width: 24px;
  text-align: center;
  font-size: 16px;
}
button.main {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin-top: 10px;
}
textarea {
  width: 100%;
  height: 220px;
  margin-top: 10px;
}
</style>
</head>
<body>

<h3>ğŸ¦– æç«œè²©å£²ã‚³ãƒ”ãƒ¼ç”Ÿæˆ</h3>

<div id="list"></div>

<button class="main" onclick="generate()">ã‚³ãƒ”ãƒ¼æ–‡ã‚’ç”Ÿæˆ</button>
<textarea id="result" readonly></textarea>
<button class="main" onclick="copyText()">ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>

<script>
const prices = {
  "å—ç²¾åµ": 30,
  "å—ç²¾åµ(æŒ‡å®š)": 50,
  "å¹¼ä½“": 100,
  "èƒš": 50,
  "èƒš(æŒ‡å®š)": 100,
  "æˆä½“": 500
};

const dinos = [
"TEKã‚®ã‚¬ãƒãƒˆ","TEKã‚±ãƒ„ã‚¡ãƒ«","TEKãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹","ã‚¢ãƒ¼ã‚±ãƒ­ãƒ³","ã‚¢ãƒ¼ã‚¹ãƒ­ãƒ—ãƒ¬ã‚¦ãƒ©",
"ã‚¢ã‚¤ã‚¹ãƒ¯ã‚¤ãƒãƒ¼ãƒ³","ã‚¢ãƒ«ã‚²ãƒ³","ã‚¢ãƒ«ãƒãƒ‰ãƒƒã‚´","ã‚¢ãƒ­ã‚µã‚¦ãƒ«ã‚¹","ã‚¢ãƒ³ã‚­ãƒ­ã‚µã‚¦ãƒ«ã‚¹",
"ã‚¢ãƒ³ã‚³ã‚¦","ã‚¤ãƒ¼ãƒªãƒ³","ã‚ªãƒ´ã‚£ãƒ©ãƒ—ãƒˆãƒ«","ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ã‚·ãƒ”"
];

const list = document.getElementById("list");

dinos.forEach(name => {
  const div = document.createElement("div");
  div.className = "row";
  div.innerHTML = `
    <div class="name">${name}</div>
    <div class="controls">
      <select class="type">
        <option>å—ç²¾åµ</option>
        <option>å—ç²¾åµ(æŒ‡å®š)</option>
        <option>å¹¼ä½“</option>
        <option>èƒš</option>
        <option>èƒš(æŒ‡å®š)</option>
        <option>æˆä½“</option>
      </select>
      â™‚
      <button class="btn" onclick="chg(this,-1,'m')">âˆ’</button>
      <span class="count m">0</span>
      <button class="btn" onclick="chg(this,1,'m')">ï¼‹</button>
      â™€
      <button class="btn" onclick="chg(this,-1,'f')">âˆ’</button>
      <span class="count f">0</span>
      <button class="btn" onclick="chg(this,1,'f')">ï¼‹</button>
    </div>
  `;
  list.appendChild(div);
});

function chg(btn, delta, sex) {
  const row = btn.closest(".row");
  const el = row.querySelector("." + sex);
  let v = Number(el.textContent);
  v = Math.max(0, v + delta);
  el.textContent = v;
}

function generate() {
  let lines = [];
  let total = 0;
  let i = 1;

  document.querySelectorAll(".row").forEach(row => {
    const name = row.querySelector(".name").textContent;
    const type = row.querySelector(".type").value;
    const m = Number(row.querySelector(".m").textContent);
    const f = Number(row.querySelector(".f").textContent);
    const qty = m + f;
    if (qty === 0) return;

    let label = "";

    if (type === "å—ç²¾åµ" && m === f && m > 0) {
      label = `å—ç²¾åµãƒšã‚¢${m > 1 ? "Ã—" + m : ""}`;
    } else {
      let sexText = [];
      if (m > 0) sexText.push(`â™‚Ã—${m}`);
      if (f > 0) sexText.push(`â™€Ã—${f}`);
      label = `${type} ${sexText.join(" ")}`;
    }

    const price = prices[type] * qty;
    total += price;

    lines.push(`${i}. ${name} ${label} = ${price}å††`);
    i++;
  });

  document.getElementById("result").value =
`ã“ã®åº¦ã¯ã”æ¤œè¨ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼
ã”å¸Œæœ›å†…å®¹ã¯ä»¥ä¸‹ã¨ãªã‚Šã¾ã™ğŸ‘‡ğŸ»

${lines.join("\n")}
ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
è¨ˆï¼š${total}å††
æœ€çŸ­ç´å“ç›®å®‰ : å³ç´å“å¯èƒ½

ã”å¸Œæœ›å†…å®¹ã€é‡‘é¡ã‚’ã”ç¢ºèªã®ä¸Šè³¼å…¥ã®æ–¹ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ğŸ™ğŸ»

ã¾ãŸã€è¿½åŠ ã‚„å¤‰æ›´ãªã©ã‚ã‚Šã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠç”³ã—ä»˜ã‘ãã ã•ã„ğŸ‘ğŸ»`;
}

function copyText() {
  navigator.clipboard.writeText(document.getElementById("result").value);
  alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
}
</script>

</body>
</html>
